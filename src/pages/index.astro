---
// src/pages/index.astro
import Layout from "../layouts/Layout.astro";
import ProjectCard from "../components/ProjectCard.astro";
import { getCollection } from "astro:content";

const projects = await getCollection("projects");

// Obtener variables de entorno
const portfolioName = import.meta.env.PORTFOLIO_NAME || "Tu Nombre";
const portfolioSurname = import.meta.env.PORTFOLIO_SURNAME || "Tu Apellido";
const portfolioTitle = import.meta.env.PORTFOLIO_TITLE || "Desarrollador Full Stack";
const portfolioDescription = import.meta.env.PORTFOLIO_DESCRIPTION || "Desarrollador Full Stack especializado en React, Node.js y Python";
const portfolioEmail = import.meta.env.PORTFOLIO_EMAIL || "tu.email@ejemplo.com";
const portfolioPhone = import.meta.env.PORTFOLIO_PHONE || "+1234567890";
const portfolioAddress = import.meta.env.PORTFOLIO_ADDRESS || "Tu Ciudad, Tu Pa√≠s";

const fullName = `${portfolioName} ${portfolioSurname}`;
---

<Layout title={`${fullName} - ${portfolioTitle}`}>
	<nav class="navbar">
		<div class="nav-container">
			<a href="#home" class="nav-logo">{fullName}</a>
			<div class="nav-menu" id="nav-menu">
				<a href="#about" class="nav-link">Sobre m√≠</a>
				<a href="#skills" class="nav-link">Habilidades</a>
				<a href="#projects" class="nav-link">Proyectos</a>
				<a href="#contact" class="nav-link">Contacto</a>
			</div>
			<div class="hamburger" id="hamburger">
				<span class="bar"></span>
				<span class="bar"></span>
				<span class="bar"></span>
			</div>
		</div>
	</nav>

	<section id="home" class="hero">
		<div class="hero-content">
			<div class="hero-text">
				<span class="greeting">¬°Hola! Soy</span>
				<h1 class="hero-name">{fullName}</h1>
				<h2 class="hero-title">{portfolioTitle}</h2>
				<p class="hero-description">{portfolioDescription}</p>
				<div class="cta-buttons">
					<a href="#contact" class="btn-primary">Cont√°ctame</a>
					<a href="#projects" class="btn-secondary">Ver Proyectos</a>
				</div>
			</div>
			<div class="hero-image">
				<div class="image-placeholder">
					<div class="avatar-circle">
						<span class="avatar-text">{portfolioName.charAt(0)}{portfolioSurname.charAt(0)}</span>
					</div>
				</div>
			</div>
		</div>
	</section>

	<section id="about" class="about">
		<div class="container">
			<h2 class="section-title">Sobre m√≠</h2>
			<div class="about-content">
				<div class="about-text">
					<p>
						Soy un desarrollador apasionado por crear soluciones digitales innovadoras.
						Con experiencia en desarrollo full-stack, me especializo en tecnolog√≠as modernas
						para construir aplicaciones web escalables y eficientes.
					</p>
					<p>
						Mi enfoque se centra en escribir c√≥digo limpio, mantenible y centrado en el usuario,
						siempre buscando las mejores pr√°cticas y las √∫ltimas tendencias tecnol√≥gicas.
					</p>
				</div>
				<div class="about-stats">
					<div class="stat">
						<span class="stat-number">3+</span>
						<span class="stat-label">A√±os de experiencia</span>
					</div>
					<div class="stat">
						<span class="stat-number">20+</span>
						<span class="stat-label">Proyectos completados</span>
					</div>
					<div class="stat">
						<span class="stat-number">10+</span>
						<span class="stat-label">Tecnolog√≠as dominadas</span>
					</div>
				</div>
			</div>
		</div>
	</section>

	<section id="skills" class="skills">
		<div class="container">
			<h2 class="section-title">Tecnolog√≠as & Habilidades</h2>
			<div class="skills-categories">
				<div class="skill-category">
					<h3>Frontend</h3>
					<div class="skills-grid">
						{
							["React", "TypeScript", "Next.js", "Tailwind CSS", "Astro"].map((skill) => (
								<span class="skill-badge frontend">{skill}</span>
							))
						}
					</div>
				</div>
				<div class="skill-category">
					<h3>Backend</h3>
					<div class="skills-grid">
						{
							["Node.js", "Python", "Express", "FastAPI", "PostgreSQL"].map((skill) => (
								<span class="skill-badge backend">{skill}</span>
							))
						}
					</div>
				</div>
				<div class="skill-category">
					<h3>Herramientas</h3>
					<div class="skills-grid">
						{
							["Git", "Docker", "AWS", "Figma", "VS Code"].map((skill) => (
								<span class="skill-badge tools">{skill}</span>
							))
						}
					</div>
				</div>
			</div>
		</div>
	</section>

	<section id="projects" class="projects">
		<div class="container">
			<h2 class="section-title">Proyectos Destacados</h2>
			<div class="projects-grid">
				{projects.length > 0 ? (
					projects.map((project) => <ProjectCard project={project} />)
				) : (
					<div class="no-projects">
						<p>Pr√≥ximamente m√°s proyectos...</p>
					</div>
				)}
			</div>
		</div>
	</section>

	<section id="contact" class="contact">
		<div class="container">
			<h2 class="section-title">¬°Trabajemos juntos!</h2>
			<div class="contact-content">
				<div class="contact-info">
					<div class="contact-item">
						<div class="contact-icon">‚úâÔ∏è</div>
						<div class="contact-details">
							<h3>Email</h3>
							<a href={`mailto:${portfolioEmail}`}>{portfolioEmail}</a>
						</div>
					</div>
					<div class="contact-item">
						<div class="contact-icon">üì±</div>
						<div class="contact-details">
							<h3>Tel√©fono</h3>
							<a href={`tel:${portfolioPhone}`}>{portfolioPhone}</a>
						</div>
					</div>
					<div class="contact-item">
						<div class="contact-icon">üìç</div>
						<div class="contact-details">
							<h3>Ubicaci√≥n</h3>
							<span>{portfolioAddress}</span>
						</div>
					</div>
				</div>
				<div class="contact-form">
					<form>
						<div class="form-group">
							<input type="text" placeholder="Tu nombre" required />
						</div>
						<div class="form-group">
							<input type="email" placeholder="Tu email" required />
						</div>
						<div class="form-group">
							<textarea placeholder="Tu mensaje" rows="5" required></textarea>
						</div>
						<button type="submit" class="btn-primary">Enviar mensaje</button>
					</form>
				</div>
			</div>
		</div>
	</section>

	<footer class="footer">
		<div class="container">
			<p>&copy; 2024 {fullName}. Todos los derechos reservados.</p>
		</div>
	</footer>
</Layout>
